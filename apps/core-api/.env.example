PORT=4000
OPS_DB_URL=postgresql://postgres:postgres@localhost:5432/ops_db
CHANNEL_DB_URL=postgresql://postgres:postgres@localhost:5432/channel_db
REDIS_URL=redis://localhost:6379
PRECHECK_DISK_TOTAL_BYTES=100000000000
PRECHECK_DISK_USED_BYTES=60000000000
PHASE2_BATCH_CODE=A
PHASE2_DRY_RUN=true
CORE_API_BASE_URL=http://localhost:4000

# Ingest security + feature flags
INGEST_SERVICE_TOKEN=dev-service-token
INGEST_SERVICE_SECRET=dev-service-secret
INGEST_TIMESTAMP_DRIFT_MINUTES=5
INGEST_NONCE_TTL_MINUTES=10
INGEST_IDEMPOTENCY_TTL_DAYS=35
INGEST_WEBHOOK_ENABLED=false
INGEST_QUEUE_ENABLED=false
INGEST_REPLAY_ENABLED=false
INGEST_QUEUE_NAME=ingest-bookings-events
INGEST_REDIS_URL=redis://localhost:6379

# Retention runtime
INGEST_RETENTION_ENABLED=true
INGEST_RETENTION_RUN_ON_START=false
INGEST_RETENTION_INTERVAL_MS=86400000
INGEST_DLQ_RETENTION_DAYS=30
INGEST_UNMAPPED_RETENTION_DAYS=90

# Audit persistence
AUDIT_PERSISTENCE_ENABLED=true
AUDIT_LOG_PATH=reports/audit/audit-events.ndjson

# Gate runner (optional overrides)
RUN_GATE_PROCESSING=true
RUN_GATE_DLQ_GROWTH=true
GATE_PROCESSING_WINDOW_MINUTES=60
GATE_PROCESSING_MIN_SUCCESS_RATE=0.995
GATE_PROCESSING_MAX_MEDIAN_MS=3000
GATE_PROCESSING_MAX_P95_MS=15000
GATE_DLQ_WINDOW_MINUTES=120
GATE_DLQ_SAMPLE_INTERVAL_SECONDS=60
GATE_DLQ_MAX_GROWTH_PER_HOUR=20
GATE_DLQ_MAX_FETCH_ERRORS=0
GATE_DLQ_INCLUDE_STATUSES=OPEN,READY,REPLAYING,FAILED
